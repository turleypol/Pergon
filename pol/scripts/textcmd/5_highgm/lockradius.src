Use uo;

Include "include/msgs";

Program TextCMD_LockRadius(who, radius)
  radius:=CInt(radius);
  If (radius)
    ForEach item in ListItemsNearLocation(who.x, who.y, who.z, radius,who.realm)
      If (item.isa(POLCLASS_ITEM))
        item.movable:=0;
      EndIf
      SleepMS(2);
    EndForEach

    SendSysMessagePergon(who, "Alles in der Kugel mit Radius "+radius+" wurde verankert.");
  Else
    SendSysMessagePergon(who, "Entweder Ihr gebt einen Radius an, oder Ihr benutzt '.lockrange'"+
      " für rechteckige Bereiche bei voller Höhe.");
  EndIf
EndProgram
